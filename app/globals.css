@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=Orbitron:wght@400;600&display=swap');

/* Safe area padding helpers */
.safe-area {
  padding-top: env(safe-area-inset-top, 0px);
  padding-top: var(--safe-area-top);
  padding-bottom: env(safe-area-inset-bottom, 0px);
  padding-bottom: var(--safe-area-bottom);
  padding-left: env(safe-area-inset-left, 0px);
  padding-left: var(--safe-area-left);
  padding-right: env(safe-area-inset-right, 0px);
  padding-right: var(--safe-area-right);
  min-height: 100vh;
  min-height: 100dvh;
  box-sizing: border-box;
}

.safe-area-pb {
  padding-bottom: env(safe-area-inset-bottom, 0px);
  padding-bottom: var(--safe-area-bottom);
}

.pt-safe-area {
  padding-top: env(safe-area-inset-top, 0px);
  padding-top: var(--safe-area-top);
}

.pb-safe-area {
  padding-bottom: env(safe-area-inset-bottom, 0px);
  padding-bottom: var(--safe-area-bottom);
}

:root {
  --safe-area-top: env(safe-area-inset-top, 0px);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-left: env(safe-area-inset-left, 0px);
  --safe-area-right: env(safe-area-inset-right, 0px);
}

body {
  font-family: 'Rajdhani', 'Orbitron', 'Noto Sans JP', 'Segoe UI', 'Roboto',
    'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: var(--bg);
  color: var(--text);
  position: relative;
  min-height: 100vh;
  min-height: 100dvh;
  background-image: radial-gradient(circle at top left, rgba(34, 181, 155, 0.35), transparent 55%),
    radial-gradient(circle at bottom right, rgba(138, 31, 189, 0.3), transparent 50%),
    linear-gradient(160deg, rgba(5, 8, 16, 0.95) 0%, rgba(7, 25, 31, 0.95) 100%);
  overflow-x: hidden;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: linear-gradient(0deg, rgba(95, 251, 241, 0.12) 2%, transparent 2%),
    linear-gradient(90deg, rgba(95, 251, 241, 0.08) 2%, transparent 2%);
  background-size: 4px 4px, 4px 4px;
  mix-blend-mode: screen;
  opacity: 0.35;
  z-index: -1;
  animation: pulseGrid 6s ease-in-out infinite alternate;
}

/* ==========================
   YamaGo Theme Tokens
   - 3 selectable themes via [data-theme]
   - Use helper utility classes below to apply
========================== */
:root,
[data-theme='light'] {
  --bg: #050810;
  --surface: rgba(11, 25, 32, 0.88);
  --text: #E4FFF8;
  --muted: #5FD1BC;
  --primary: #22B59B;
  --accent: #FF47C2;
  --success: #5FFBF1;
  --warning: #FFD166;
  --glow: 0 0 18px rgba(34, 181, 155, 0.35);
  --gradient: linear-gradient(135deg, rgba(34, 181, 155, 0.95), rgba(138, 31, 189, 0.9));
  --panel-gradient: linear-gradient(135deg, rgba(11, 25, 32, 0.95), rgba(10, 18, 25, 0.85));
}

[data-theme='dark'] {
  --bg: #02040A;
  --surface: rgba(7, 17, 25, 0.92);
  --text: #E4FFF8;
  --muted: #4BC9B0;
  --primary: #22B59B;
  --accent: #F72585;
  --success: #5FFBF1;
  --warning: #FFD166;
  --glow: 0 0 22px rgba(34, 181, 155, 0.4);
  --gradient: linear-gradient(135deg, rgba(34, 181, 155, 0.9), rgba(247, 37, 133, 0.85));
  --panel-gradient: linear-gradient(135deg, rgba(7, 17, 25, 0.96), rgba(5, 9, 14, 0.9));
}

/* Neo (Gradient) theme â€“ bold gradient backgrounds, white text */
[data-theme='neo'] {
  --bg: #01030A;
  --surface: rgba(15, 8, 35, 0.85);
  --text: #F5FEFF;
  --muted: #7EEAD8;
  --primary: #22B59B;
  --accent: #FF47C2;
  --success: #5FFBF1;
  --warning: #FFD166;
  --glow: 0 0 24px rgba(247, 37, 133, 0.35);
  --gradient: linear-gradient(125deg, rgba(34, 181, 155, 0.92), rgba(95, 251, 241, 0.72), rgba(138, 31, 189, 0.88));
  --panel-gradient: linear-gradient(135deg, rgba(15, 8, 35, 0.95), rgba(4, 16, 31, 0.9));
}

/* Helper utilities (can be used alongside Tailwind) */
.bg-app { background: var(--bg); }
.text-app { color: var(--text); }
.bg-surface { background: var(--panel-gradient); backdrop-filter: blur(12px); border: 1px solid rgba(95, 251, 241, 0.08); box-shadow: var(--glow); }
.text-muted { color: var(--muted); }
.bg-primary { background-color: var(--primary); }
.text-primary { color: var(--primary); text-shadow: 0 0 8px rgba(34, 181, 155, 0.35); }
.bg-accent { background-color: var(--accent); }
.text-accent { color: var(--accent); }
.bg-success { background-color: var(--success); }
.brand-gradient { background-image: var(--gradient); }
.btn-primary { background: linear-gradient(135deg, rgba(34, 181, 155, 0.95), rgba(95, 251, 241, 0.85)); color: #031f1a; box-shadow: 0 0 12px rgba(34, 181, 155, 0.55); border: 1px solid rgba(95, 251, 241, 0.6); }
.btn-accent { background: linear-gradient(135deg, rgba(255, 71, 194, 0.92), rgba(138, 31, 189, 0.9)); color: #fff; box-shadow: 0 0 16px rgba(255, 71, 194, 0.5); border: 1px solid rgba(255, 71, 194, 0.55); }
.btn-surface { background: rgba(7, 25, 34, 0.9); color: var(--text); border: 1px solid rgba(95, 251, 241, 0.2); }
.btn-primary,
.btn-accent,
.btn-surface {
  transition: transform 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}
.btn-primary:hover,
.btn-accent:hover,
.btn-surface:hover {
  transform: translateY(-1px);
  filter: brightness(1.05);
}
.btn-primary:active,
.btn-accent:active,
.btn-surface:active {
  transform: translateY(0);
  filter: brightness(0.95);
}

.cyber-card {
  background: var(--panel-gradient);
  border: 1px solid rgba(95, 251, 241, 0.14);
  box-shadow: 0 15px 45px rgba(4, 12, 24, 0.6), 0 0 18px rgba(34, 181, 155, 0.25);
  backdrop-filter: blur(14px);
}

.cyber-divider {
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(95, 251, 241, 0.4), transparent);
}

/* Tailwind utility overrides for cyberpunk palette */
.bg-white {
  background: var(--panel-gradient) !important;
  border: 1px solid rgba(95, 251, 241, 0.12) !important;
  box-shadow: 0 18px 45px rgba(4, 12, 24, 0.6) !important;
  backdrop-filter: blur(14px);
  color: var(--text);
}

.bg-gray-50 { background: rgba(5, 28, 34, 0.65) !important; }
.bg-gray-100 { background: rgba(5, 32, 40, 0.6) !important; }
.bg-gray-200 { background: rgba(7, 38, 46, 0.4) !important; }

.text-gray-900,
.text-gray-800 { color: var(--text) !important; }
.text-gray-700,
.text-gray-600,
.text-gray-500,
.text-gray-400 { color: var(--muted) !important; }

.border-gray-200 { border-color: rgba(95, 251, 241, 0.18) !important; }
.border-gray-300 { border-color: rgba(95, 251, 241, 0.25) !important; }

.bg-red-500,
.hover\:bg-red-600:hover {
  background: linear-gradient(135deg, rgba(255, 71, 194, 0.95), rgba(138, 31, 189, 0.9)) !important;
  color: #fff !important;
  box-shadow: 0 0 20px rgba(255, 71, 194, 0.35);
}

.bg-green-500,
.hover\:bg-green-600:hover {
  background: linear-gradient(135deg, rgba(34, 181, 155, 0.95), rgba(95, 251, 241, 0.85)) !important;
  color: #031f1a !important;
  box-shadow: 0 0 18px rgba(34, 181, 155, 0.35);
}

.text-green-600,
.text-red-600 { text-shadow: 0 0 6px rgba(34, 181, 155, 0.35); }

/* Mapbox GL styles */
.mapboxgl-popup-content {
  padding: 0;
  border-radius: 8px;
}

.mapboxgl-popup-close-button {
  right: 8px;
  top: 8px;
  font-size: 18px;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: rgba(7, 25, 34, 0.6);
}

::-webkit-scrollbar-thumb {
  background: rgba(95, 251, 241, 0.45);
  border-radius: 3px;
  box-shadow: 0 0 10px rgba(95, 251, 241, 0.35);
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(95, 251, 241, 0.65);
}

/* Pulse animation for current location marker */
@keyframes pulse {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.7;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes pulseGrid {
  from { opacity: 0.18; }
  to { opacity: 0.35; }
}
